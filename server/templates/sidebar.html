<!-- Sidebar  -->
<div class="d-flex flex-column p-3 text-white bg-dark min-vh-100" style="width:300px;">
    
    <!-- 아이콘과 로고 -->
    <div class="p-3 d-flex align-items-center mb-10 mb-md-0 me-md-auto text-white text-decoration-none">
        <span class="fs-4 fw-bold">
            <i class="bi bi-capsule me-2"></i>KnowMedicine
        </span>
    </div>

    <hr>

    <!-- 관리자 아이디 -->
    <div class="p-3">
        {% if g.user %}
        <div class="row d-flex align-items-center">
            <div class="col-auto">
                <span class="fs-5">{{ g.user.user_id }}</span>
            </div>
    
            <div class="col text-end">
                <a href="javascript:void(0)" data-uri="{{ url_for('auth.logout') }}" class="logout btn btn-secondary btn-sm">
                    로그아웃
                </a>
            </div>
        </div>
        {% endif %}
    </div>

    <hr>

    <ul class="nav nav-pills flex-column mb-auto">
        <!-- 메뉴 항목 -->
        <li class="nav-item">
            <a href="{{ url_for('page.dashboard') }}" class="nav-link {% if current_menu == 'dashboard' %} active {% else %} text-white {% endif %}" aria-current="page">
                <i class="bi bi-speedometer2 me-2"></i>대시보드
            </a>
        </li>
        <li>
            <a href="{{ url_for('page.medicine_list') }}" class="nav-link {% if current_menu == 'medicine_list' %} active {% else %} text-white {% endif %}">
                <i class="bi bi-prescription2 me-2"></i>의약품 관리
            </a>
        </li>
        <li>
            <a href="{{ url_for('page.user_list') }}" class="nav-link {% if current_menu == 'user_list' %} active {% else %} text-white {% endif %}">
                <i class="bi bi-person-fill me-2"></i>유저 관리
            </a>
        </li>
        <li>
            <a href="{{ url_for('model.analysis_log') }}" class="nav-link {% if current_menu == 'analysis_log' %} active {% else %} text-white {% endif %}">
                <i class="bi bi-file-earmark-text me-2"></i>분석 로그
            </a>
        </li>
        <li>
            <a href="{{ url_for('model.data_list') }}" class="nav-link {% if current_menu == 'data_list' %} active {% else %} text-white {% endif %}">
                <i class="bi bi-gear-wide-connected me-2"></i>데이터 관리
            </a>
        </li>
        <li>
            <a href="{{ url_for('model.data_learning') }}" class="nav-link {% if current_menu == 'data_learning' %} active {% else %} text-white {% endif %}">
                <i class="bi bi-gear-wide-connected me-2"></i>모델 목록
            </a>
        </li>
        <li>
            <a href="{{ url_for('model.data_tag') }}" class="nav-link {% if current_menu == 'data_tag' %} active {% else %} text-white {% endif %}">
                <i class="bi bi-tags-fill me-2"></i>데이터 태깅
            </a>
        </li>
    </ul>
</div>

<script type="text/javascript">

    /* 로그아웃 확인 */
    const logout_elements = document.getElementsByClassName("logout");
    Array.from(logout_elements).forEach(function (element) {
        element.addEventListener('click', function () {
            if (confirm("로그아웃 하시겠습니까?")) {
                location.href = this.dataset.uri;
            }
        });
    });

</script>